{
  "nginx_config": "server { listen 80; server_name redamancy.com.cn www.redamancy.com.cn; client_max_body_size 100M; client_body_timeout 60s; client_header_timeout 60s; location / { root /srv/apps/axi-star-cloud/front; index index.html; try_files $uri $uri/ /index.html; location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ { expires 1y; add_header Cache-Control \"public, immutable\"; } location ~* \\.html$ { add_header Cache-Control \"no-cache, no-store, must-revalidate\" always; add_header Pragma \"no-cache\" always; add_header Expires \"0\" always; } } location /api/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 30s; proxy_send_timeout 60s; proxy_read_timeout 60s; proxy_buffering off; add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \"GET, POST, PUT, DELETE, OPTIONS\"; add_header Access-Control-Allow-Headers \"Origin, Content-Type, Accept, Authorization, User-UUID\"; add_header Access-Control-Allow-Credentials true; if ($request_method = 'OPTIONS') { add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \"GET, POST, PUT, DELETE, OPTIONS\"; add_header Access-Control-Allow-Headers \"Origin, Content-Type, Accept, Authorization, User-UUID\"; add_header Access-Control-Allow-Credentials true; add_header Content-Length 0; add_header Content-Type text/plain; return 204; } } location /api/auth/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 30s; proxy_send_timeout 60s; proxy_read_timeout 60s; } location /api/upload/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_request_buffering off; proxy_connect_timeout 60s; proxy_send_timeout 300s; proxy_read_timeout 300s; client_max_body_size 100M; } location /health { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; access_log off; } location /metrics { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; allow 127.0.0.1; deny all; } location /uploads/ { alias /srv/apps/axi-star-cloud/uploads/; location ~* \\.(jpg|jpeg|png|gif|ico|svg)$ { expires 1y; add_header Cache-Control \"public, immutable\"; } location ~* \\.(pdf|doc|docx|xls|xlsx|ppt|pptx)$ { expires 30d; add_header Cache-Control \"public\"; } location ~* \\.(mp4|avi|mov|wmv|flv|webm)$ { expires 7d; add_header Cache-Control \"public\"; } } location /static/ { alias /srv/apps/axi-star-cloud/front/; expires 1y; add_header Cache-Control \"public, immutable\"; } location = /robots.txt { return 200 \"User-agent: *\\nDisallow: /api/\\nDisallow: /uploads/\\n\"; add_header Content-Type text/plain; } location ~ /\\. { deny all; } error_page 404 /404.html; error_page 500 502 503 504 /50x.html; location = /404.html { root /srv/apps/axi-star-cloud/front; } location = /50x.html { root /srv/apps/axi-star-cloud/front; } } server { listen 443 ssl http2; server_name redamancy.com.cn www.redamancy.com.cn; ssl_certificate /www/server/panel/vhost/cert/redamancy.com.cn/fullchain.pem; ssl_certificate_key /www/server/panel/vhost/cert/redamancy.com.cn/privkey.pem; ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384; ssl_prefer_server_ciphers off; ssl_session_cache shared:SSL:10m; ssl_session_timeout 10m; add_header Strict-Transport-Security \"max-age=63072000\" always; client_max_body_size 100M; client_body_timeout 60s; client_header_timeout 60s; location / { root /srv/apps/axi-star-cloud/front; index index.html; try_files $uri $uri/ /index.html; location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ { expires 1y; add_header Cache-Control \"public, immutable\"; } location ~* \\.html$ { add_header Cache-Control \"no-cache, no-store, must-revalidate\" always; add_header Pragma \"no-cache\" always; add_header Expires \"0\" always; } } location /api/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 30s; proxy_send_timeout 60s; proxy_read_timeout 60s; proxy_buffering off; add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \"GET, POST, PUT, DELETE, OPTIONS\"; add_header Access-Control-Allow-Headers \"Origin, Content-Type, Accept, Authorization, User-UUID\"; add_header Access-Control-Allow-Credentials true; if ($request_method = 'OPTIONS') { add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods \"GET, POST, PUT, DELETE, OPTIONS\"; add_header Access-Control-Allow-Headers \"Origin, Content-Type, Accept, Authorization, User-UUID\"; add_header Access-Control-Allow-Credentials true; add_header Content-Length 0; add_header Content-Type text/plain; return 204; } } location /api/auth/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 30s; proxy_send_timeout 60s; proxy_read_timeout 60s; } location /api/upload/ { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_request_buffering off; proxy_connect_timeout 60s; proxy_send_timeout 300s; proxy_read_timeout 300s; client_max_body_size 100M; } location /health { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; access_log off; } location /metrics { proxy_pass http://127.0.0.1:8124; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; allow 127.0.0.1; deny all; } location /uploads/ { alias /srv/apps/axi-star-cloud/uploads/; location ~* \\.(jpg|jpeg|png|gif|ico|svg)$ { expires 1y; add_header Cache-Control \"public, immutable\"; } location ~* \\.(pdf|doc|docx|xls|xlsx|ppt|pptx)$ { expires 30d; add_header Cache-Control \"public\"; } location ~* \\.(mp4|avi|mov|wmv|flv|webm)$ { expires 7d; add_header Cache-Control \"public\"; } } location /static/ { alias /srv/apps/axi-star-cloud/front/; expires 1y; add_header Cache-Control \"public, immutable\"; } location = /robots.txt { return 200 \"User-agent: *\\nDisallow: /api/\\nDisallow: /uploads/\\n\"; add_header Content-Type text/plain; } location ~ /\\. { deny all; } error_page 404 /404.html; error_page 500 502 503 504 /50x.html; location = /404.html { root /srv/apps/axi-star-cloud/front; } location = /50x.html { root /srv/apps/axi-star-cloud/front; } } server { listen 80; server_name redamancy.com.cn www.redamancy.com.cn; return 301 https://$server_name$request_uri; }",
  "start_cmd": "systemctl restart star-cloud",
  "service_port": "8124",
  "test_url": "https://redamancy.com.cn/health",
  "mysql_config": "",
  "skip_init": false
}
